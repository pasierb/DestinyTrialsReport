<div class="player shadow-z-1" ng-class="{'is-virgin':!player.activities.lastTwentyFive, 'with-overlay is-invalid':player.invalidResult}">

  <div ng-include="'components/player/overview.partial.html'"></div>

  <div ng-include="'components/player/specific-stats.partial.html'" ng-if="!subdomain"></div>

  <uib-tabset class="player-tabs" ng-if="!subdomain"
              ng-class="{'is-hidden': !$storage.visibility.all &&
                                      ((!$storage.visibility.equipped.tab && !$storage.visibility.lastMatches.tab) ||
                                      (!$storage.visibility.equipped.tab && !$storage.visibility.stats.tab) ||
                                      (!$storage.visibility.lastMatches.tab && !$storage.visibility.stats.tab) ||
                                      (!$storage.visibility.equipped.tab && !$storage.visibility.lastMatches.tab && !$storage.visibility.stats.tab))}">
    <uib-tab ng-if="$storage.visibility.all || $storage.visibility.equipped.tab" class="player-tab--equipped" heading="Equipped"
             analytics-on analytics-event="Click" analytics-category="Equipped">
      <div ng-include="'components/inventory/inventory.partial.html'">
      </div>
    </uib-tab>
    <uib-tab ng-if="$storage.visibility.all || $storage.visibility.lastMatches.tab" class="player-tab--last-matches" heading="Last Matches"
             analytics-on analytics-event="Click" analytics-category="Last Matches" ng-click="getLastMatch(player)">
      <div ng-include="'components/matches/matches.partial.html'">
      </div>
    </uib-tab>
    <uib-tab ng-if="$storage.visibility.all || $storage.visibility.stats.tab" class="player-tab--stats" heading="Stats"
             analytics-on analytics-event="Click" analytics-category="Stats">
      <div ng-include="'components/stats/stats.partial.html'">
      </div>
    </uib-tab>
  </uib-tabset>

  <uib-tabset class="player-tabs" ng-if="subdomain">
    <uib-tab class="player-tab--stats" heading="Stats" analytics-on analytics-event="Click" analytics-category="Stats">
      <div ng-include="'components/stats/stats.partial.html'"></div>
    </uib-tab>
    <uib-tab class="player-tab--maps" heading="Weapons" analytics-on analytics-event="Click" analytics-category="Weapons">
      <div ng-include="'components/stats/weapons.partial.html'"></div>
    </uib-tab>
    <uib-tab class="player-tab--last-matches" heading="Last Matches" analytics-on analytics-event="Click" analytics-category="Last Matches" ng-click="getLastMatch(player)">
      <div ng-include="'components/matches/matches.partial.html'"></div>
    </uib-tab>
  </uib-tabset>

  <div class="player__links">
    <div class="row">
      <div class="col-xs-12 player__links__btns">
        <a ng-href="https://guardian.gg/en/profile/{{player.membershipType}}/{{player.name}}"
           type="button" target="_blank" class="btn btn-default"
           analytics-on analytics-event="Click" analytics-category="Guardian.gg">
          <img src="/assets/img/ggg-logo.png" alt="Guardian.gg">
        </a>
        <a ng-href="https://my.trials.report/{{player.membershipType === 2 ? 'ps' : 'xbox'}}/{{player.name}}"
           type="button" target="_blank" class="btn btn-default" ng-if="!subdomain"
           analytics-on analytics-event="Click" analytics-category="myDestinyTrialsReport">
          myTrialsReport
        </a>
        <a ng-href="https://trials.report/{{player.membershipType === 2 ? 'ps' : 'xbox'}}/{{player.name}}"
           type="button" target="_blank" class="btn btn-default" ng-if="subdomain"
           analytics-on analytics-event="Click" analytics-category="DestinyTrialsReport">
          DestinyTrialsReport
        </a>
        <!--<a ng-if="true" ng-href="https://twitch.tv//{{player.twitch}}"-->
           <!--type="button" target="_blank" class="btn btn-default"-->
           <!--analytics-on analytics-event="Click" analytics-category="Twitch">-->
          <!--<img src="/assets/img/twitch-logo.svg" alt="Twitch">-->
        <!--</a>-->
      </div>
    </div>
  </div>

</div>
